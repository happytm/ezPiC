{{ include t_std_head.html }}

<h2>
  <i class="fas fa-microchip"></i> Active Gadgets (Sensors and Actuators)</h2>

<a class="btn btn-success float-right" href="/gadgets/list/" role="button">
  <i class="fas fa-plus"></i> Add Gadget</a>
<p>
  Choose a gadget and click the [
  <i class="fas fa-pencil-alt"></i>] button to edit
</p>

<div class="gadgets">
  {{ for gadget in gadget_list }} {{ py }} index=gadget['idx'] {{ end }}
  <div class="card">
    <div class="card-header p-2" role="tab" id="heading{{ index }}">
      <h5 class="d-flex align-items-start m-0 ">
        <a class="btn btn-secondary btn-sm mx-1 ml-0 mr-3" data-toggle="collapse" href="#collapse{{ index }}" aria-expanded="false"
          aria-controls="collapse{{ index }}">
          <i class="fas fa-chevron-down"></i>
        </a>
        {{ if gadget['enable'] == True }}
        <i class="fas fa-check-circle text-success"></i>
        {{ else }}
        <i class="fas fa-times-circle text-danger"></i>
        {{ end }} &nbsp;
        <a class="mr-auto" data-toggle="collapse" href="#collapse{{ index }}" aria-expanded="false" aria-controls="collapse{{ index }}">
          #{{ index }} [{{ gadget['GGPID'] }}] {{ gadget['PNAME'] }} - {{ gadget['name'] }}
        </a>
        <a href="/gadgets/edit/{{ index }}/" class="btn btn-warning btn-sm mx-1">
          <i class="fas fa-pencil-alt"></i>
        </a>
        <a href="/gadgets/del/{{ index }}/" class="btn btn-danger btn-sm mx-1">
          <i class="fas fa-trash-alt"></i>
        </a>
      </h5>
    </div>
    <div id="collapse{{ index }}" class="collapse" role="tabpanel" aria-labelledby="heading{{ index }}">
      <div class="card-body">
        {{ gadget['info'] }}
      </div>
    </div>
  </div>
  {{ end }}
</div>

{{ include t_std_foot.html }}